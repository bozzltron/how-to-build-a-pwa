(this["webpackJsonphow-to-build-a-pwa"]=this["webpackJsonphow-to-build-a-pwa"]||[]).push([[0],{13:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(e){console.log("Service Worker Registered"),t=e,e.pushManager&&e.pushManager.getSubscription().then((function(e){null===e?"granted"==Notification.permission&&function(){var e=function(e){for(var n="=".repeat((4-e.length%4)%4),t=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(t),r=new Uint8Array(o.length),a=0;a<o.length;++a)r[a]=o.charCodeAt(a);return r}(window.PUSH_PUBLIC_KEY);t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then((function(e){console.log("User is subscribed."),o(e)})).catch((function(e){console.log("Failed to subscribe the user: ",e)}))}():o(e)})).catch((function(e){console.log(e)}))}))}));var t=null;function o(e,n){console.log("persist to server",JSON.stringify(e))}},14:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),a=t(4),c=t.n(a),i=t(2),s=t.n(i),u=t(5),l=t(1);t(12);var p=function(){var e=Object(o.useState)(""),n=Object(l.a)(e,2),t=n[0],a=n[1];return Object(o.useEffect)((function(){setTimeout((function(){a("show")}),500)})),r.a.createElement("div",{className:"prompt ".concat(t)},"Install this webapp on your iphone: tap ",r.a.createElement("img",{src:"/home.png",alt:"iOS home button"}),"and then add to homescreen.")};var f=function(){var e=function(){var e=Object(o.useState)(""),n=Object(l.a)(e,2),t=n[0],r=n[1];return Object(o.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fortunecookieapi.herokuapp.com/v1/fortunes/").then((function(e){return e.json()}));case 2:(n=e.sent)&&(t=Math.floor(Math.random()*n.length)+1,r(n[t].message));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t}(),n=function(){var e=Object(o.useState)(!1),n=Object(l.a)(e,2),t=n[0],r=n[1];return Object(o.useEffect)((function(){!function(){var e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}()||"standalone"in window.navigator&&window.navigator.standalone||r(!0)}),[]),t}();return r.a.createElement("div",{className:"App"},r.a.createElement("img",{className:"logo",src:"/logo-512x512.png",alt:"Fortune Cookie logo"}),r.a.createElement("p",null,e),n?r.a.createElement(p,null):null)};t(13);c.a.render(r.a.createElement(f,null),document.getElementById("root"))},6:function(e,n,t){e.exports=t(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.7c852c76.chunk.js.map